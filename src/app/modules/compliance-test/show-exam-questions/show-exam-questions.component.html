<div class="container-fluid p-0">
  <div class="page-title mb-3">
    <h2>
      <a (click)="back()" class="me-2 text-dark"><i class="bi bi-arrow-left-circle"></i></a>
      All Questions
    </h2>
  </div>

  <div class="mt-3">
    <div class="card">
      <div class="card border">
        <div class="card-header">
          <h4>
            Details
          </h4>
        </div>
        <div class="card-body">
          <div class="row" *ngIf="acceptTermsDetails">
            <div class="col-md-4 col-sm-6">
              <strong>IP Address:</strong>
              <div>{{ acceptTermsDetails?.ipAddress }}</div>
            </div>
            <div class="col-md-4 col-sm-6">
              <strong>Location:</strong>
              <div>
                {{ acceptTermsDetails?.location }}
                <i (click)="openMap(acceptTermsDetails.location)" title="Open Location On Map." class="bi bi-geo-alt-fill text-primary ms-2"
                  style="cursor: pointer;" onclick="openMap()"></i>
              </div>
            </div>
            <div class="col-md-4 col-sm-6">
              <strong>Accept Date:</strong>
              <div>{{ acceptTermsDetails?.createdAt | gmtDate }} {{ acceptTermsDetails?.createdAt | date:'shortTime' }}</div>
            </div>
          </div>
          <div class="row" *ngIf="!acceptTermsDetails">
            <div class="col-12">No Details Found.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Question List -->
  <div class="mt-3" *ngIf="questions.length > 0">
    <div
      *ngFor="let question of questions | paginate: { itemsPerPage: pagesize, currentPage: page, totalItems:totalRecords }; let i = index"
      class="card mb-3 shadow-sm">
      <div class="card border">
        <div class="card-body">
          <div class="row align-items-center mb-3">
            <div class="col-lg-9 col-xl-9 col-md-7 col-sm-7 col-12">
              <h4>
                <span class="text-primary p-600">Q.</span>
                {{ question?.questionDetails?.[0]?.questionText }}
              </h4>
            </div>
            <div class="col-col-lg-3 col-xl-3 col-sm-5 col-md-5 col-12">
              <h4>
                <span class="text-primary p-600">Answer Type : </span>
                {{ getAnswerType(question?.questionDetails?.[0]?.questionType) }}
              </h4>
            </div>
          </div>
          <!-- <div class="row">
            <div class="col-11">
              <h4>
                <span class="text-primary p-600">Answer : </span>
                {{ question?.answer }}
              </h4>
            </div>
          </div> -->
          <div class="row mb-2">
            <div class="col-11">
              <div class="row">
                <div *ngFor="let option of question?.questionDetails?.[0]?.options; let i = index" class="col-6"
                  [ngClass]="{ 'result-active' : question?.answers?.includes(option?.optionIndex)}">
                  <p>{{ getOptionLabel(i) }}. {{ option?.optionText }}</p>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-11">
              <h4>
                <span class="text-primary p-600">Answer : </span>
                <span class="text-primary" style="background-color: rgb(144, 251, 144);"> {{
                  getAnswer(question?.questionDetails?.[0]?.answer, question?.questionDetails?.[0]?.options) }} </span>

              </h4>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-3" *ngIf="questions?.length == 0">
    <app-no-record-found></app-no-record-found>
  </div>
</div>
