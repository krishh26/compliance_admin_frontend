<body class="body-login" style="overflow: hidden; height: 100vh;">
  <div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card shadow p-4" style="max-width: 500px; width: 100%;">
      <h4 class="text-center text-theme mb-4"><strong>Change Password</strong></h4>

      <form [formGroup]="changeForm" (ngSubmit)="onSubmit()">

        <!-- Password Input with Pattern Validation -->
        <div class="mb-3">
          <label class="fw-bold">Password</label>
          <div class="input-group">
            <input [type]="showPassword ? 'text' : 'password'" class="form-control" placeholder="Enter your password"
              formControlName="password">
            <button type="button" class="btn btn-outline-secondary" (click)="showPassword = !showPassword">
              <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash-fill' : 'bi-eye-fill'"></i>
            </button>
          </div>
          <div class="text-danger small mt-1" *ngIf="submitted && f['password'].errors?.['required']">
            Password is required
          </div>
          <div class="text-danger small mt-1" *ngIf="submitted && f['password'].errors?.['pattern']">
            Password must contain at least 8 characters, including uppercase, lowercase, number, and special character.
          </div>
        </div>


        <!-- Confirm Password Input -->
        <div class="mb-3">
          <label class="fw-bold">Confirm Password</label>
          <div class="input-group">
            <input [type]="confirmPassword ? 'text' : 'password'" class="form-control"
              placeholder="Confirm your password" formControlName="confirmPassword">
            <button type="button" class="btn btn-outline-secondary" (click)="confirmPassword = !confirmPassword">
              <i class="bi" [ngClass]="confirmPassword ? 'bi-eye-slash-fill' : 'bi-eye-fill'"></i>
            </button>
          </div>
          <div class="text-danger small mt-1" *ngIf="submitted && f['confirmPassword'].errors?.['required']">
            Confirm Password is required
          </div>
          <div class="text-danger small mt-1" *ngIf="submitted && changeForm.getError('mismatch')">
            Password and Confirm Password do not match
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary w-100">Change Password</button>
      </form>
    </div>
  </div>
</body>
